@import "tailwindcss";

/* -------------------------------------------------------
   Base theme tokens (Next/Tailwind)
-------------------------------------------------------- */

:root {
  --background: #ffffff;
  --foreground: #171717;

  /* -----------------------------------------------------
     SPARKLES (separate visual system — NOT glass)
  ------------------------------------------------------ */

  /* twinkle timing knobs (used by Sparkles.tsx) */
  --sparkle-twinkle-min: 2s;
  --sparkle-twinkle-step: 0.6s;

  /* visual knobs */
  --sparkle-opacity: 0.10;
  --sparkle-size-min: 0.4px;
  --sparkle-size-max: 1.2px;
  --sparkle-blur: 0.35px;

  /* -----------------------------------------------------
     GOLD ACCENT (borders + optional sparkle tint)
  ------------------------------------------------------ */

  --gold-rgb: 235 190 90;

  /* -----------------------------------------------------
     GLASS / UI TOKENS (Soundscape)
  ------------------------------------------------------ */

  /* keep the pipeline intact; set to 0px to "disable" blur */
  --glass-blur: 24px;

  /* base glass tint (R G B) */
  --glass-rgb: 16 12 26;
  --glass-rgb-big: 10 10 14; /* near-black */

  /* optics */
  --glass-saturate: 1;
  --glass-contrast: 1;

  /* master transparency multiplier */
  --glass-alpha: 2 ;

  /* borders (gold) */
  --glass-border-strong: rgb(var(--gold-rgb) / 0.45);
  --glass-border-medium: rgb(var(--gold-rgb) / 0.32);
  --glass-border-soft: rgb(var(--gold-rgb) / 0.40);

  /* per-tier base alpha (before master multiplier) */
  --glass-fill-big-a: 0.3;
  --glass-fill-section-a: 0.3;
  --glass-fill-mini-a: 0.3;
  --glass-fill-inset-a: 0.3;
  --glass-fill-field-a: 0.3;

  /* derived fills (color × transparency) */
  --glass-fill-big:  rgb(var(--glass-rgb-big) / calc(var(--glass-fill-big-a) * var(--glass-alpha)));
  --glass-fill-section: rgb(var(--glass-rgb) / calc(var(--glass-fill-section-a) * var(--glass-alpha)));
  --glass-fill-mini: rgb(var(--glass-rgb) / calc(var(--glass-fill-mini-a) * var(--glass-alpha)));
  --glass-fill-inset: rgb(var(--glass-rgb) / calc(var(--glass-fill-inset-a) * var(--glass-alpha)));
  --glass-fill-field: rgb(var(--glass-rgb) / calc(var(--glass-fill-field-a) * var(--glass-alpha)));

  /* state overlays (stack on top of existing fill) */
  --glass-state-rgb: 255 255 255;
  --glass-hover-a: 0.2;
  --glass-active-a: 0.25;
  --glass-press-a: 0.2 ;

  --glass-overlay-hover: rgb(var(--glass-state-rgb) / var(--glass-hover-a));
  --glass-overlay-active: rgb(var(--glass-state-rgb) / var(--glass-active-a));
  --glass-overlay-press: rgb(var(--glass-state-rgb) / var(--glass-press-a));

  /* text */
  --text-rgb: 235 190 90 ;
  --text-strong: rgb(var(--text-rgb) / 1);
  --text: rgb(var(--text-rgb) / 0.92);
  --text-muted: rgb(var(--text-rgb) / 0.72);
  --text-faint: rgb(var(--text-rgb) / 0.52);
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

/* -------------------------------------------------------
   Components
-------------------------------------------------------- */

@layer components {
  /* Shared glass optics */
  .glass-panel,
  .glass-surface,
  .glass-inset,
  .pill-glass,
  .btn-glass,
  .btn-glass-secondary,
  .range-gold { accent-color: rgb(var(--gold-rgb)); }
  .field-glass {
    backdrop-filter:
      blur(var(--glass-blur))
      saturate(var(--glass-saturate))
      contrast(var(--glass-contrast));
    -webkit-backdrop-filter:
      blur(var(--glass-blur))
      saturate(var(--glass-saturate))
      contrast(var(--glass-contrast));
  }
  /* --- Top nav links --- */
  .nav-link {
    position: relative;
    padding: 0.25rem 0;
    color: var(--text);
    text-decoration: none;
    transition:
      color 160ms ease,
      filter 160ms ease;
  }

  /* subtle gold underline (hidden by default) */
  .nav-link::after {
    content: "";
    position: absolute;
    left: 0;
    bottom: -6px;
    width: 100%;
    height: 1px;
    background: linear-gradient(
      to right,
      transparent,
      rgb(var(--gold-rgb) / 0.9),
      transparent
    );
    opacity: 0;
    transform: scaleX(0.6);
    transition:
      opacity 160ms ease,
      transform 160ms ease;
  }

  /* hover */
  .nav-link:hover {
    color: var(--text-strong);
    filter: drop-shadow(0 0 10px rgb(var(--gold-rgb) / 0.35));
  }

  .nav-link:hover::after {
    opacity: 1;
    transform: scaleX(1);
  }

  /* keyboard focus */
  .nav-link:focus-visible {
    outline: none;
    color: var(--text-strong);
    filter: drop-shadow(0 0 14px rgb(var(--gold-rgb) / 0.45));
  }

  .nav-link:focus-visible::after {
    opacity: 1;
    transform: scaleX(1);
  }
}
  /* State helpers (overlay layer) — does NOT replace base background */
  .glass-hover {
    background-image: linear-gradient(var(--glass-overlay-hover), var(--glass-overlay-hover));
  }
  .glass-active {
    background-image: linear-gradient(var(--glass-overlay-active), var(--glass-overlay-active));
  }
  .glass-press {
    background-image: linear-gradient(var(--glass-overlay-press), var(--glass-overlay-press));
  }

  /* Glass surfaces */
  .glass-panel {
    background: var(--glass-fill-big);
    border: 1px solid var(--glass-border-strong);
  }

  .glass-surface {
    background: var(--glass-fill-section);
    border: 1px solid var(--glass-border-medium);
  }

  .glass-inset {
    background: var(--glass-fill-inset);
    border: 1px solid var(--glass-border-soft);
  }

  /* Controls / chips */
  .btn-glass,
  .btn-glass-secondary,
  .pill-glass {
    background: var(--glass-fill-mini);
    border: 1px solid var(--glass-border-soft);
  }
 /* --- Interactive glow for anything clickable --- */
  .btn-glass,
  .btn-glass-secondary,
  .pill-glass {
    position: relative;
    cursor: pointer;
    user-select: none;

    /* smooth feel */
    transition:
      transform 160ms ease,
      box-shadow 160ms ease,
      border-color 160ms ease,
      background-image 160ms ease,
      filter 160ms ease;
  }

  /* hover = brighter border + subtle gold glow + soft white sheen */
  .btn-glass:hover,
  .btn-glass-secondary:hover,
  .pill-glass:hover {
    border-color: rgb(var(--gold-rgb) / 0.70);
    background-image: linear-gradient(var(--glass-overlay-hover), var(--glass-overlay-hover));
    box-shadow:
      0 0 0 1px rgb(var(--gold-rgb) / 0.20),
      0 0 22px rgb(var(--gold-rgb) / 0.16),
      0 18px 60px rgba(0, 0, 0, 0.40);
    transform: translateY(-1px);
    filter: brightness(1.06);
  }

  /* press = push down + tighter glow */
  .btn-glass:active,
  .btn-glass-secondary:active,
  .pill-glass:active {
    background-image: linear-gradient(var(--glass-overlay-press), var(--glass-overlay-press));
    transform: translateY(0px);
    box-shadow:
      0 0 0 1px rgb(var(--gold-rgb) / 0.18),
      0 0 14px rgb(var(--gold-rgb) / 0.14),
      0 10px 30px rgba(0, 0, 0, 0.35);
    filter: brightness(1.03);
  }

  /* keyboard focus = clear gold ring (accessibility + feels premium) */
  .btn-glass:focus-visible,
  .btn-glass-secondary:focus-visible,
  .pill-glass:focus-visible {
    outline: none;
    box-shadow:
      0 0 0 2px rgb(var(--gold-rgb) / 0.55),
      0 0 0 6px rgb(var(--gold-rgb) / 0.16),
      0 18px 60px rgba(0, 0, 0, 0.45);
  }

  /* disabled = no hover/press glow */
  .btn-glass:disabled,
  .btn-glass-secondary:disabled,
  .pill-glass:disabled {
    opacity: 0.45;
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
    background-image: none;
    filter: none;
  }

  /* Form fields */
  .field-glass {
    background: var(--glass-fill-field);
    border: 1px solid var(--glass-border-soft);
  }

  /* Elevation tokens */
  .elev-0 { box-shadow: none; }

  .elev-1 {
    box-shadow:
      0 0 0 1px rgba(255, 255, 255, 0.03),
      0 16px 60px rgba(0, 0, 0, 0.45);
  }

  .elev-2 {
    box-shadow:
      0 0 0 1px rgba(255, 255, 255, 0.03),
      0 40px 120px rgba(0, 0, 0, 0.65);
  }

  .elev-3 {
    box-shadow: 0 40px 160px rgba(0, 0, 0, 0.85);
  }

  /* Text tokens */
  .text-app { color: var(--text); }
  .text-strong { color: var(--text-strong); }
  .text-muted { color: var(--text-muted); }
  .text-faint { color: var(--text-faint); }


/* -------------------------------------------------------
   Sparkle animation (deterministic twinkle)
-------------------------------------------------------- */

@keyframes sparkle-twinkle {
  0%, 100% { opacity: 0.35; }
  50% { opacity: 1; }
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .sparkle {
    animation: none !important;
  }
}
